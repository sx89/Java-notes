<!-- TOC -->

- [类之间的五大关系](#类之间的五大关系)
    - [继承(继承)](#继承继承)
    - [依赖(方法参数)](#依赖方法参数)
    - [关联(属性)](#关联属性)
    - [聚合()](#聚合)
    - [组合](#组合)
    - [区别](#区别)

<!-- /TOC -->

# 类之间的五大关系
继承(实现)、依赖、关联、聚合、组合
## 继承(继承)
对于类来说，这种关系叫做继承，对于接口来说，这种关系叫做实现
## 依赖(方法参数)
依赖简单的理解，就是一个类A中的方法参数使用到了另一个类B。

这种使用关系是具有偶然性的、临时性的、非常弱的，但是B类的变化会影响到A。

比如说，我用笔写字，首先需要一个类来代表我自己，然后需要一个类来代表一支笔，最后，‘我’要调用‘笔’里的方法来写字，用代码实现一下：

```java
public class Pen {
    public void write(){
        System.out.println("use pen to write");
    }
}

public class Me {
    public void write(Pen pen){//这里，pen作为Me类方法的参数
        pen.write();
    }
}
```
## 关联(属性)

关联体现的是两个类、或者类与接口之间语义级别的一种强依赖关系。

被关联类B以类属性的形式出现在关联类A中，或者关联类A引用了一个类型为被关联类B的全局变量的这种关系，就叫关联关系。

这种关系比依赖更强、不存在依赖关系的偶然性、关系也不是临时性的，一般是长期性的，而且双方的关系一般是平等的、关联可以是单向、双向的。

看下面这段代码：

```java
// pen 还是上面的pen
public class You {
    private Pen pen; // 让pen成为you的类属性 

    public You(Pen p){
        this.pen = p;
    }

    public void write(){
        pen.write();
    }
}
```


## 聚合()

```java
public class Family {
    private List<Child> children; //一个家庭里有许多孩子

    // ...
}
```
在代码层面，聚合和关联关系是一致的，只能从语义级别来区分。普通的关联关系中，a类和b类没有必然的联系，而聚合中，需要b类是a类的一部分,两个类处在不同的层次上，是一种”has-a“的关系，即 a has-a b; 比如家庭有孩子，屋子里有空调。

但是，has 不是 must has，a可以有b，也可以没有。a是整体，b是部分，整体与部分之间是可分离的，他们可以具有各自的生命周期，部分可以属于多个整体对象，也可以为多个整体对象共享。

## 组合

组合也是关联关系的一种特例，他体现的是一种contains-a的关系，这种关系比聚合更强，也称为强聚合。
```java
public class Nose {
    private Eye eye = new Eye();  //一个人有鼻子有眼睛
    private Nose nose = new Nose();

    // .... 
}
```

组合同样体现整体与部分间的关系，但此时整体与部分是不可分的，整体的生命周期结束也就意味着部分的生命周期结束。

就像你有鼻子有眼睛，如果你一不小心结束了生命周期，鼻子和眼睛的生命周期也会结束，而且，鼻子和眼睛不能脱离你单独存在。

只看代码，你是无法区分关联，聚合和组合的，具体是哪一种关系，只能从语义级别来区分。

## 区别

聚合和组合的区别：聚合是个体离开了整体，依然可以存在.组合是个体和整体不可以分开，个体不能离开整体单独存在.


依赖，关联 和聚合，组合的区别:
依赖，关联 : 类之间的关系是在同一层次上.  
聚合，组合: 类之间的关系表现为整体和部分.  










